---
date: 2026-02-06
tags: [decisions]
---

# Decisiones del 2026-02-06

### [17:30] Prompt de etiquetado de recursos: estándar reutilizable para todos los módulos del curso

**Problema que resuelve:**
Cada módulo del curso contiene decenas de recursos visuales (imágenes, gráficas, diapositivas PPT, infografías, GIFs, vídeos) que llegan con nombres genéricos tipo "Pasted image 20250112..." o con nomenclatura parcial inconsistente (ej: `m0-03infografia.jpg`, `img-m01-monje-escaner.png`). Sin un proceso estandarizado, los nombres no describen el contenido, no identifican el módulo/tema al que pertenecen, y no permiten detectar cuándo varias imágenes son alternativas visuales del mismo concepto.

**Decisión:**
Se crea y consolida el prompt `_wip/ai/prompts/etiquetar-recursos-modulo.md` como herramienta estándar que Claude Code ejecutará cada vez que se le indique procesar un módulo. El prompt define tanto las convenciones de nomenclatura como el proceso completo de trabajo (inventario, visualización, propuesta, aprobación, ejecución, verificación).

**Convenciones de nomenclatura:**
- Estructura obligatoria: `prefijo-mNN-TT-descriptor[-vN].ext`
  - `prefijo`: tipo de recurso (`img-`, `vid-`, `gif-`, `infog-`, `graf-`, `ppt-`)
  - `mNN`: módulo con 2 dígitos (`m00-`, `m01-`, nunca `m0-`)
  - `TT`: tema/topic con 2 dígitos, correspondiente al archivo .md donde aparece
  - `descriptor`: nombre semántico basado en lo que se VE en la imagen
  - `-vN`: sufijo de variante cuando hay alternativas del mismo concepto
- Todas las imágenes en carpeta única `assets/`
- Re-normalización obligatoria de nombres parciales que no sigan el estándar completo

**Reglas de proceso aprendidas tras problemas reales:**
1. **Verificación visual obligatoria**: SIEMPRE leer/visualizar la imagen ANTES de proponer un nombre. En m01-08 se detectaron 6 nombres incorrectos porque se habían asignado basándose en el texto circundante en lugar del contenido visual real.
2. **Agrupación temática por sección** (no solo proximidad): En m01-09 sección "Mindfulness en el mainstream", había 8 imágenes dispersas en 30+ líneas que ilustraban 3 conceptos (adopción corporativa, revolución mediática, respaldo académico) pero no se detectaron como variantes porque no eran consecutivas y tenían títulos diferentes. La regla ahora exige agrupar TODAS las imágenes de cada sección por concepto temático antes de nombrar.
3. **Variantes cross-type**: Una PPT y una imagen fotográfica del mismo concepto son variantes. Lo que define la variante es el concepto, no el tipo de recurso.
4. **Test de agrupación**: "¿Estas imágenes muestran lo mismo desde ángulos diferentes, o son conceptos genuinamente distintos?"

**Proceso de trabajo:**
El prompt es interactivo: Claude Code visualiza las imágenes, propone nombres en tabla, espera aprobación del usuario, ejecuta renombrados + actualización de referencias en .md, y verifica que no queden referencias rotas. Máximo 10-15 imágenes por lote para validación manejable.

**Estado actual y uso futuro:**
- Módulo 00: completado (63 recursos, 2026-02-05)
- Módulo 01: completado (77 recursos + 8 variantes corregidas, 2026-02-06)
- Módulos 02-07: pendientes. Se procesarán bajo demanda invocando este prompt.
- Ubicación pendiente de promoción: actualmente en `_wip/ai/prompts/`, cuando se considere maduro se promoverá a `_ai/prompts/`.

---

### [23:50] Sistema de prompts para perfeccionamiento de módulos: marcado estructural y normalización

Complementa: [17:30] Prompt de etiquetado de recursos

**Problema que resuelve:**
Los archivos del curso llegan desde PowerPoint/Word con múltiples problemas estructurales: sin frontmatter YAML, con wikilinks de Obsidian en lugar de markdown estándar, con citas de autores/estudios incrustadas en el texto sin formato de footnotes, con artefactos de conversión (comas residuales donde había superíndices), y sin sistema de tags inline que identifique la función pedagógica de cada bloque (metáfora, ejemplo, ejercicio, etc.). Cada módulo necesita las mismas transformaciones, pero no existía un proceso estandarizado.

**Decisión:**
Se crean tres prompts reutilizables que cubren todo el proceso de perfeccionamiento de un módulo:

1. **`_wip/ai/prompts/etiquetar-recursos-modulo.md`** — Etiquetado de recursos multimedia (ya existía, decisión previa)
2. **`_wip/ai/prompts/prompt-tags-inline.md`** (NUEVO) — Sistema de marcado estructural con 12 tags inline
3. **`_wip/ai/prompts/prompt-normalizacion-modulo.md`** (NUEVO) — Normalización: frontmatter YAML, footnotes, wikilinks

Inicialmente se creó un prompt único (`prompt-marcado.md`, ~500 líneas) que combinaba todo. Se decidió separarlo en dos prompts independientes para poder aplicarlos por separado a cada módulo según necesidad.

**Sistema de 12 tags inline** (prompt-tags-inline.md):
- *Multimedia (6)*: `#imagen`, `#grafica`, `#ppt`, `#infografia`, `#gif`, `#video` — clasifican recursos visuales según su naturaleza (foto vs. diagrama vs. diapositiva vs. resumen denso)
- *Didácticos (4)*: `#metafora`, `#ejemplo`, `#ejercicio`, `#cita` — identifican bloques con función pedagógica especial
- *Reflexivos (1)*: `#insight` — preguntas reflexivas que conectan teoría con experiencia personal
- *Sección (1)*: `#aux` — material complementario fuera del flujo principal
- Incluye árboles de decisión para multimedia y contenido didáctico
- Regla de abstención: si hay duda, no marcar
- Evolución desde los 7 tags originales: eliminados `#practica` (→ `#ejercicio`) y `#pregunta` (→ `#insight`); añadidos `#ppt`, `#grafica`, `#infografia`, `#gif`, `#ejercicio`, `#insight`, `#aux`

**Sistema de normalización** (prompt-normalizacion-modulo.md):
- *Frontmatter YAML*: campos obligatorios (`id`, `titulo`, `modulo`, `orden`, `tags`, `ultima_actualizacion`), reglas de tags por tipo de archivo (aperturas sin tags, temas con tags específicos, síntesis con tags de módulo)
- *Wikilinks*: conversión de `[[#sección|texto]]` a `[texto](#sección)` con reglas de anclas (minúsculas, guiones, tildes conservadas, caracteres especiales eliminados)
- *Footnotes*: conversión de citas inline a `[^n]` con catálogo de 11 tipos de fuentes, regla anti-invención (solo fuentes explícitas en el texto), limpieza de artefactos de comas residuales de conversión PPT→MD

**Regla crítica de ruta:**
Todo el trabajo se realiza en `_wip/curso/Perfeccionamiento Curso/`, NUNCA directamente en `CURSO/`. Esta regla está embebida en ambos prompts.

**Estado de aplicación tras crear los prompts:**

| Tarea | M00 | M01 | M02-M07 |
|-------|-----|-----|---------|
| Etiquetado recursos | 63 recursos | 77 recursos | Pendiente |
| Tags inline | Completado | Completado | Pendiente |
| Frontmatter YAML | 6 archivos | 12 archivos | Pendiente |
| Wikilinks → markdown | Completado | Completado | Pendiente |
| Footnotes | 18 (m00-01 + m00-03) | 54 (7 de 12 archivos) | Pendiente |

**Flujo de trabajo por módulo (orden recomendado):**
1. Etiquetar recursos (`etiquetar-recursos-modulo.md`)
2. Aplicar tags inline (`prompt-tags-inline.md`)
3. Normalizar frontmatter + wikilinks + footnotes (`prompt-normalizacion-modulo.md`)

**Archivo supersedido:**
`_wip/ai/prompts/prompt-marcado.md` — el prompt combinado original. Queda como referencia pero los dos prompts separados son la versión operativa.
